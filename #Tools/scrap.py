from googlesearch import search
import json, sys
import requests
import time

url = "https://api.mouseion.online"

payload = "{\n\t\"pass\": \"password\"\n}"
headers = {
  'Content-Type': 'application/json',
  'Cookie': 'token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1ODYxMTk4OTQsInBhc3N3b3JkIjotNjI2MDY0NDM1OTc2NDU1Mjg1M30.p4xybVVN9eJ7XfzoCh3DGABpZRe-TG6i6jmdbx684Pc'
}

response = requests.request("POST", url + '/login', headers=headers, data = payload)
print(response.text)
token = json.loads(response.text)["data"]["token"]

words = ["aide",
"chef",
"enfant",
"garde",
"gauche",
"geste",
"gosse",
"livre",
"merci",
"mort",
"ombre",
"part",
"poche",
"professeur",
"tour",
"fois",
"madame",
"paix",
"voix",
"affaire",
"annee",
"arme",
"armee",
"attention",
"balle",
"boite",
"bouche",
"carte",
"cause",
"chambre",
"chance",
"chose",
"classe",
"confiance",
"couleur",
"cour",
"cuisine",
"dame",
"dent",
"droite",
"ecole",
"eglise",
"envie",
"epaule",
"epoque",
"equipe",
"erreur",
"espece",
"face",
"facon",
"faim",
"famille",
"faute",
"femme",
"fenetre",
"fete",
"fille",
"fleur",
"force",
"forme",
"guerre",
"gueule",
"habitude",
"heure",
"histoire",
"idee",
"image",
"impression",
"jambe",
"joie",
"journee",
"langue",
"lettre",
"levre",
"ligne",
"lumiere",
"main",
"maison",
"maman",
"maniere",
"marche",
"merde",
"mere",
"minute",
"musique",
"nuit",
"odeur",
"oreille",
"parole",
"partie",
"peau",
"peine",
"pensee",
"personne",
"peur",
"photo",
"piece",
"pierre",
"place",
"police",
"porte",
"presence",
"prison",
"putain",
"question",
"raison",
"reponse",
"robe",
"route",
"salle",
"scene",
"seconde",
"securite",
"semaine",
"situation",
"soeur",
"soiree",
"sorte",
"suite",
"table",
"terre",
"tete",
"verite",
"ville",
"voiture",
"avis",
"bois",
"bras",
"choix",
"corps",
"cours",
"gars",
"mois",
"pays",
"prix",
"propos",
"sens",
"temps",
"travers",
"vieux",
"accord",
"agent",
"amour",
"appel",
"arbre",
"argent",
"avenir",
"avion",
"bateau",
"bebe",
"besoin",
"bonheur",
"bonjour",
"bord",
"boulot",
"bout",
"bruit",
"bureau",
"cafe",
"camp",
"capitaine",
"chat",
"chemin",
"cheri",
"cheval",
"cheveu",
"chien",
"ciel",
"client",
"coeur",
"coin",
"colonel",
"compte",
"copain",
"cote",
"coup",
"courant",
"debut",
"depart",
"dieu",
"docteur",
"doigt",
"dollar",
"doute",
"droit",
"effet",
"endroit",
"ennemi",
"escalier",
"esprit",
"etat",
"etre",
"exemple",
"fait",
"film",
"flic",
"fond",
"francais",
"frere",
"front",
"garcon",
"general",
"genre",
"gout",
"gouvernement",
"grand",
"groupe",
"haut",
"homme",
"honneur",
"hotel",
"instant",
"interet",
"interieur",
"jardin",
"jour",
"journal",
"lieu",
"long",
"maitre",
"mari",
"mariage",
"matin",
"medecin",
"metre",
"milieu",
"million",
"moment",
"monde",
"monsieur",
"mouvement",
"moyen",
"noir",
"nouveau",
"numero",
"oeil",
"oiseau",
"oncle",
"ordre",
"papa",
"papier",
"parent",
"passage",
"passe",
"patron",
"pere",
"petit",
"peuple",
"pied",
"plaisir",
"plan",
"point",
"pouvoir",
"premier",
"present",
"president",
"prince",
"probleme",
"quartier",
"rapport",
"regard",
"reste",
"retard",
"retour",
"reve",
"revoir",
"salut",
"sang",
"secret",
"seigneur",
"sentiment",
"service",
"seul",
"siecle",
"signe",
"silence",
"soir",
"soldat",
"soleil",
"sourire",
"souvenir",
"sujet",
"telephone",
"tout",
"train",
"travail",
"trou",
"truc",
"type",
"vent",
"ventre",
"verre",
"village",
"visage",
"voyage",
"fils",
"pluriel",
"gens"]
print("start")
for i in words[4:]:
  urls = []
  apiurl = url + "/pdf/add/from_url"
  headers = {
      'Content-Type': 'application/json',
      'Cookie': 'token=' + token
    }
  try:
    for ur in search(i + ' filetype:pdf', stop=500):
      response = requests.request("POST", apiurl, headers=headers, data = "{\"file\": \"" + ur + "\"}")
      print(response.text)
      time.sleep(5);
  except:
      time.sleep(1200)
      print("error" + i)
  print(i + " done")
